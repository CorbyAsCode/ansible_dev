#!/usr/bin/python

import os
import json

plugins_dir = '/opt/sensu/embedded/bin'
plugin_ext = ('.sh', '.py', '.rb', '.pl')
facts_list = []

files = os.listdir(plugins_dir)

for file in files:
    if file.endswith(plugin_ext):
        facts_list.append(file)

print json.dumps(facts_list)
